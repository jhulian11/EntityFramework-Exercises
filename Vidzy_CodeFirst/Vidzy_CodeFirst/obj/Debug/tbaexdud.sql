DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Vidzy_CodeFirst.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202202202055572_FirstModel'
BEGIN
    CREATE TABLE [dbo].[Genres] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        CONSTRAINT [PK_dbo.Genres] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[Videos] (
        [Id] [int] NOT NULL IDENTITY,
        [Name] [nvarchar](max),
        [ReleaseDate] [datetime] NOT NULL,
        CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[VideoGenres] (
        [Video_Id] [int] NOT NULL,
        [Genre_Id] [int] NOT NULL,
        CONSTRAINT [PK_dbo.VideoGenres] PRIMARY KEY ([Video_Id], [Genre_Id])
    )
    CREATE INDEX [IX_Video_Id] ON [dbo].[VideoGenres]([Video_Id])
    CREATE INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]([Genre_Id])
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[VideoGenres] ADD CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202055572_FirstModel', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103AB545D64AB2976D60EF22759222E8E6077112F41630D2D8214A512A4905F6167DB21EFA487D850EF52F5292E57491166D1120B049CEFFC7E1CCF88FDF7E9F7E58479C3C83542C1633EF60B2EF1110411C32B19A79A95EBE79E77D78FFE517D3D3305A93FBF2DC5B730E29859A794F5A2747BEAF822788A89A442C90B18A977A12C4914FC3D83FDCDFFFD63F38F0015978C88B90E94D2A348B20FB825FE7B10820D129E51771085C15EBB8B3C8B8924B1A814A680033EF9E859F360F733C77C6A4D21E39E68CA21A0BE04B8F5021624D352A7974A760A1652C568B041728BFDD2480E796942B28943FAA8F8FB563FFD0D8E1D78425AB20553A8E766478F0B6708C6F93BFC8BD5EE53874DD29BA586F8CD599FB66DEF720245A6E4B3A9A73694E39AE9D64047BC45ADEAB608068317F7B649E729D4A980948B5A47C8F5CA78F9C053FC0E636FE09C44CA49C377543ED70AFB5804BD7324E40EACD0D2C0B8DCF438FF86D3ADF26ACC81A34B939E742BF3DF4C8250AA78F1CAAD0374C5FE858029A09926A08AFA9D62085E10199F31CE9962CF3BF948658C33BE3910BBAFE0862A59F661E7EF4C8195B4358AE141ADC0986570C89B44CC11172499FD92AD3CF12878180D82337C0B35DF5C4921CF7936CE7A108F0998CA39B989704F9F2C32D952BC0EB721BBB7B8B389581A5C8D4AF013408AB42ABF1B0CA08FE87D56BC3CA12822802AAE004352C6599CFB7CCC8768C1B0BD102822F836809C32E8896F01D03D163A5E280650A34315A086F5B722A4232A0491E834A7F8C036292258842943BF3BE713CD3CDAFBA7C35BFC21383FCA67EC314F712E2B3A9294394D5567ECA1661AD3B2E243E88C59D5405446CD50DD305E8662C95476A27B755772C6F9367F67791179EB4C81B965A3C4AD0344E7460CABEF6C381AD94ADF5F4C7712843D9E0503ACACE296D933A805B05B02E78FCBCE2292B23BFA7349A5ED024C1C4D028958A15B2C8EBA4F99BC5EE354494F3F003D5514A54DA569230CDD11558BB28BACCE99850E82335F9631E46CEB1165C7BB0548A6A21D20D5489B0F2B8F9DCB813764D6373A8BD7786064598A533DBC08EB14B9795A89453D9F15CCC639E46A2EFC919A2CE1F80267DBEE27298FA96E2B66F7CC73916486D578F0A447167FE4A20F22CB07B207AE8FEEE40F471683DB34D46AD8DD70F6C3B377544B7CCBA5B22581EEB0C536F66EE2A6CDB19DA75C8A8F0E69CBA826C1C52C9DD4DA522E5BF50A59CC76E2AD96F871B42E709B18F5400AA9E12EBC99816E97B7BCBEDE4F3FC884750F767F413E6F2C546698826E6C064F1339F738690AD0F5C50C196A0745EB77BD8F81E5A8DFB3FA789F6950AF9984EFAD53B0F665CBAB5B7D856BB0F341BE299CAE089CAAF22BAFEBAC9C96D28766C0FFFD3BE1AD57C85F8596F6FBE76F3FB8B813A9047DDC37D196E7BBC6A318DA8398DCBB908613DF37EC9888EC8F98F0F25DD1EB992985E8EC83EF975E768D66AEF26BCA4DB41F88B3AD5CEA7D0EE4AB6F7A807CE037C254E107F1AC8719027D93955010D5D8799F769507AA34668AA30A6B73553605882345791727CC69496F8903975CEB564226009E52DABDDB7784C02312655FCEC9D13484098CCE01A3846DA50E551B1B6DCBBCD01BDFDFF306EBAEA9546E4DCA075C6EB5F869BF1917C5DDC0C95879F1D37DD7323B75F1F3118EA9F0BE5D521BE688F263BE539B16744D23933EA1F197571EE1EDF7473EE53BCB9D92BA3C7846D73AB6AE43438BEEA697BDC6CEF74C25BE7562DA3EDDE6CFCCC6A8CA9E56C6CD8D4EE76CA4D50CEF4E5B54CDD613CE7F650783B1B3F6E6276506C55B3303F750A085AF7B23A732E967199202C8DCA23560973019A62E1488FA5664B1A68DC0E40A9EC17837BCA533C721A3D42782EAE529DA41A4D86E891B77E81306966487E36836CEB3CBD4AB2E9FEE73001D564A6F6BD12DFA58C8795DE671D55540F0B93BF8A2ADFC4529B6A7FB5A9385DC66224A3C27D55DABD8528E1C84C5D89057D8697E876A7E023AC68B0295BE17E26DB03D176FBF484D195A4912A78D4F4F815311C46EBF77F0282893AD5E31F0000 , N'6.4.4')
END

IF @CurrentMigration < '202202202059225_PopulateGenresTable'
BEGIN
    INSERT INTO Genres (Name) VALUES ('Action')
    INSERT INTO Genres (Name) VALUES ('Romance')
    INSERT INTO Genres (Name) VALUES ('Science')
    INSERT INTO Genres (Name) VALUES ('Adventure')
    INSERT INTO Genres (Name) VALUES ('RPG')
    INSERT INTO Genres (Name) VALUES ('Terror')
    INSERT INTO Genres (Name) VALUES ('Shounen')
    INSERT INTO Genres (Name) VALUES ('Isekai')
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202059225_PopulateGenresTable', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED59CD6EE33610BE17E83B103AB545D64AB2976D60EF22759222E8E6077112F41630D2D8214A512A4905F6167DB21EFA487D850EF52F5292E57491166D1120B049CEFFC7E1CCF88FDF7E9F7E58479C3C83542C1633EF60B2EF1110411C32B19A79A95EBE79E77D78FFE517D3D3305A93FBF2DC5B730E29859A794F5A2747BEAF822788A89A442C90B18A977A12C4914FC3D83FDCDFFFD63F38F0015978C88B90E94D2A348B20FB825FE7B10820D129E51771085C15EBB8B3C8B8924B1A814A680033EF9E859F360F733C77C6A4D21E39E68CA21A0BE04B8F5021624D352A7974A760A1652C568B041728BFDD2480E796942B28943FAA8F8FB563FFD0D8E1D78425AB20553A8E766478F0B6708C6F93BFC8BD5EE53874DD29BA586F8CD599FB66DEF720245A6E4B3A9A73694E39AE9D64047BC45ADEAB608068317F7B649E729D4A980948B5A47C8F5CA78F9C053FC0E636FE09C44CA49C377543ED70AFB5804BD7324E40EACD0D2C0B8DCF438FF86D3ADF26ACC81A34B939E742BF3DF4C8250AA78F1CAAD0374C5FE858029A09926A08AFA9D62085E10199F31CE9962CF3BF948658C33BE3910BBAFE0862A59F661E7EF4C8195B4358AE141ADC0986570C89B44CC11172499FD92AD3CF12878180D82337C0B35DF5C4921CF7936CE7A108F0998CA39B989704F9F2C32D952BC0EB721BBB7B8B389581A5C8D4AF013408AB42ABF1B0CA08FE87D56BC3CA12822802AAE004352C6599CFB7CCC8768C1B0BD102822F836809C32E8896F01D03D163A5E280650A34315A086F5B722A4232A0491E834A7F8C036292258842943BF3BE713CD3CDAFBA7C35BFC21383FCA67EC314F712E2B3A9294394D5567ECA1661AD3B2E243E88C59D5405446CD50DD305E8662C95476A27B755772C6F9367F67791179EB4C81B965A3C4AD0344E7460CABEF6C381AD94ADF5F4C7712843D9E0503ACACE296D933A805B05B02E78FCBCE2292B23BFA7349A5ED024C1C4D028958A15B2C8EBA4F99BC5EE354494F3F003D5514A54DA569230CDD11558BB28BACCE99850E82335F9631E46CEB1165C7BB0548A6A21D20D5489B0F2B8F9DCB813764D6373A8BD7786064598A533DBC08EB14B9795A89453D9F15CCC639E46A2EFC919A2CE1F80267DBEE27298FA96E2B66F7CC73916486D578F0A447167FE4A20F22CB07B207AE8FEEE40F471683DB34D46AD8DD70F6C3B377544B7CCBA5B22581EEB0C536F66EE2A6CDB19DA75C8A8F0E69CBA826C1C52C9DD4DA522E5BF50A59CC76E2AD96F871B42E709B18F5400AA9E12EBC99816E97B7BCBEDE4F3FC884750F767F413E6F2C546698826E6C064F1339F738690AD0F5C50C196A0745EB77BD8F81E5A8DFB3FA789F6950AF9984EFAD53B0F665CBAB5B7D856BB0F341BE299CAE089CAAF22BAFEBAC9C96D28766C0FFFD3BE1AD57C85F8596F6FBE76F3FB8B813A9047DDC37D196E7BBC6A318DA8398DCBB908613DF37EC9888EC8F98F0F25DD1EB992985E8EC83EF975E768D66AEF26BCA4DB41F88B3AD5CEA7D0EE4AB6F7A807CE037C254E107F1AC8719027D93955010D5D8799F769507AA34668AA30A6B73553605882345791727CC69496F8903975CEB564226009E52DABDDB7784C02312655FCEC9D13484098CCE01A3846DA50E551B1B6DCBBCD01BDFDFF306EBAEA9546E4DCA075C6EB5F869BF1917C5DDC0C95879F1D37DD7323B75F1F3118EA9F0BE5D521BE688F263BE539B16744D23933EA1F197571EE1EDF7473EE53BCB9D92BA3C7846D73AB6AE43438BEEA697BDC6CEF74C25BE7562DA3EDDE6CFCCC6A8CA9E56C6CD8D4EE76CA4D50CEF4E5B54CDD613CE7F650783B1B3F6E6276506C55B3303F750A085AF7B23A732E967199202C8DCA23560973019A62E1488FA5664B1A68DC0E40A9EC17837BCA533C721A3D42782EAE529DA41A4D86E891B77E81306966487E36836CEB3CBD4AB2E9FEE73001D564A6F6BD12DFA58C8795DE671D55540F0B93BF8A2ADFC4529B6A7FB5A9385DC66224A3C27D55DABD8528E1C84C5D89057D8697E876A7E023AC68B0295BE17E26DB03D176FBF484D195A4912A78D4F4F815311C46EBF77F0282893AD5E31F0000 , N'6.4.4')
END

IF @CurrentMigration < '202202202111068_CreateColumnGenreldInVideosTable'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Videos_Video_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Videos_Video_Id]
    IF object_id(N'[dbo].[FK_dbo.VideoGenres_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[VideoGenres] DROP CONSTRAINT [FK_dbo.VideoGenres_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Video_Id] ON [dbo].[VideoGenres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[VideoGenres]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[VideoGenres]
    ALTER TABLE [dbo].[Genres] ADD [Video_Id] [int]
    ALTER TABLE [dbo].[Videos] ADD [Genreld_Id] [int]
    ALTER TABLE [dbo].[Videos] ADD [Genre_Id] [int]
    CREATE INDEX [IX_Video_Id] ON [dbo].[Genres]([Video_Id])
    CREATE INDEX [IX_Genreld_Id] ON [dbo].[Videos]([Genreld_Id])
    CREATE INDEX [IX_Genre_Id] ON [dbo].[Videos]([Genre_Id])
    ALTER TABLE [dbo].[Genres] ADD CONSTRAINT [FK_dbo.Genres_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genreld_Id] FOREIGN KEY ([Genreld_Id]) REFERENCES [dbo].[Genres] ([Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genre_Id] FOREIGN KEY ([Genre_Id]) REFERENCES [dbo].[Genres] ([Id])
    DROP TABLE [dbo].[VideoGenres]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202111068_CreateColumnGenreldInVideosTable', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED1ACB6EE336F05EA0FF20E8D42EB29693BDB481BD8BD49B1446370FC449D05BC04863872845A92215D85BF4CB7AE827F5173AD45BD48BB6B3D91C1601029BE4BC1F9C19FABF7FFE9D7C58FBCC7A8248D0804FEDC3D1D8B680BB8147F96A6AC772F9F627FBC3FBEFBF9B9C7AFEDABACBCFBD53E710928BA9FD286578EC38C27D049F88914FDD2810C1528EDCC07788173847E3F1CFCEE1A10388C2465C9635B98EB9A43E245FF0EB2CE02E843226EC3CF080896C1D77160956EB82F82042E2C2D4BEA3DEE7CDFD0CCF9DD14848DB3A6194201B0B604BDB229C07924864F2F856C04246015F2D425C20EC6613029E5B12262063FEB83C6E2AC7F848C9E19480392A371632F0B74478F82E538CA383EFA45EBB501CAAEE14552C374AEA447D53FB57E0114AAE533A9EB1489D6AA87694001C58DAF241E106E82DEAEFC09AC54CC6114C39C43222ECC0BA8A1F18757F83CD4DF007F0298F19ABF286DCE15E6D0197AEA22084486EAE6199713CF76CCBA9C3393A6001568149C59973F9EEC8B62E903879605098BE22FA420611A098101109DE15911222AE7040A2BC06758D96FA9F53435FC398B1AD73B2FE047C251FA7367EB4AD33BA062F5FC938B8E514430C8164144383C80579A2AB843F8D1C1A0202DBBA0696EC8A471AA67E9F5AEA3EDB3F8B02FF3A60B9C5D3E5FB451047AEE23668EEDD906805B2CEC8C4291DA8D7AD32AAE66E95007C73AB97762B8D087A1110011F91C39C96FA7C4315ED8670A62E9AE59816174D3D2DDB2F5DB4B2DC70D1EA5E9B8B0E32C2BC2156D489566698D7C70EEE6E13332742042E4DD8A8064DA68DBA44A7DCB37A54933A4521053A0606090D312C90EED41E8F46870D25B5A3CC05A8A0CCAC5347F94697B1228DB190A867039EAA4A1F10F48D999415430DC9D954DD16A2561370175BADD9786BA63A51B6C869A2B94E215357C6D24C128A99ACB4E9E76411D6B225E963D195E57D91A5219D75857401B2AA37615B65DCD4B5D190BC0E9E08D8069E49AE815724D570E489A972A2256FE9574B7FAC16CC967C3A661872535630E48AD2EFADBA48DB89AB925FAFC07AD41AC4EDCE425722F54B885DAB909A4277C6EF60040F323B18B0832AEB1137BF718A302D5B2727ED9DF21ECBE968B226E7240CB1C4A8345DD98AB5483BAED9DBC5F6DD889FE2705CD1D29414DC1694B060222BD07691745E1D6269421E88AA44669EDF38564B4A1D19232755CB3B4D43E579243FAE3E57329FDE1DE9184AED9DA1403ED67B896CA07B49132E69760923514BE1390B58ECF3AEE2B50F3A2D25ABF0E94A13C3C4D118D775E33494A339A9AE6A2343641EBF8F215AA3D6C0101D705FDB105D186A057B15516DE3E50D5BCF4D2DD6CDEFD6010BE6C78CE245A5D4B6EEB87E0537756164D914539B7D952E0ABADBB19465FB1D59DA9A19CC861E4D0AD4B950DD5CD1C99908AA5F38FBD89D79869657078D42B45FD1651DB1A3AA732CCF6BFFB2447A551ED02DECDE3E50ABB806AED1FCD8AEF66F29CCF6B1FE73D8BEA5D27B7D96DFC9EE8D9A533F52DC3845EDA9D59893ACDE1B9EF6370AC0F4886DA1EC4FA85B2CFE161B21C11FA903A3C59F6CC628DE71E58173C2E912844C4786F6D1F8F0487B33783DF37B47088F990CF15F7CE849954A07C79A4363C39E39277F2291FB48A21F7CB2FEB18AC9649659DE63156E1BB38939F7603DB5FF4A808EADF9EFF739DC817519A1AB1C5B63EBEF7EDA5B4EC5BFD96968E6ECE1676934736E1FF0EE60F512D2DCEE1DF477A5FE2C3EB7C75479EF4172A5A4DF6276AC5E7E610991F243C2F0FE1032C21BA4D1915C4594BB3424ACC673F3FA34891EA5BF029FBEF31142E02A2C6A629910EAEB110AAC5A180FC9FEECA375432B993C1AEC3291DFC9D6E626D8D3D6E64ED5DF11BC80B58D5F17BED9FA596CFD52966E7F62690E3D0DDE50BA9F50D28A196FDA0765D8F492E918ABB73EAF74BFAEB461EE98607FE19797E6107D780ADF1CDDBFA6D71543167751C5577D3D797191B678216976A518DB955FAA615A117455A2508D3607B716D5C599395F06797AD138CA8F6815E5394882E5303989245D1257E2B60B42243FFFB8232CC623A7FE0378737E19CB30962832F80FACF6731295A4FAE827CF40759E279761F2FB88E71001D9A4AAA2BFE4BFC4540540C6F759B3A2EF42A1B25FD6BB285B4AD5C3AC3605A68B801B22CAD45724ED1BF04386C8C4255F9027D885B75B019F6045DC4D3E5CE846326C88BADA271F295945C417198E121EBFA20F7BFEFAFDFF6F22A7EFB0290000 , N'6.4.4')
END

IF @CurrentMigration < '202202202116007_RemoveGenreldAndGenreColumnsFromVideoTables'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.Genres_dbo.Videos_Video_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [FK_dbo.Genres_dbo.Videos_Video_Id]
    IF object_id(N'[dbo].[FK_dbo.Videos_dbo.Genres_Genreld_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genreld_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Video_Id' AND object_id = object_id(N'[dbo].[Genres]', N'U'))
        DROP INDEX [IX_Video_Id] ON [dbo].[Genres]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genreld_Id' AND object_id = object_id(N'[dbo].[Videos]', N'U'))
        DROP INDEX [IX_Genreld_Id] ON [dbo].[Videos]
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Genres')
    AND col_name(parent_object_id, parent_column_id) = 'Video_Id';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Genres] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[Genres] DROP COLUMN [Video_Id]
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Genreld_Id';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[Videos] DROP COLUMN [Genreld_Id]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202116007_RemoveGenreldAndGenreColumnsFromVideoTables', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED59DB6EE34418BE47E21D46BE02D48D7BB88128D955495B14B13DA86E2BEEAA89FD271D311E9B9971952CE2C9B8E0917805FEF129F68C93382D5B904095AA643CFFF9FB4FCE9FBFFF31FAB08C397906A95822C6DED1E0D02320C224626231F6323D7FF7ADF7E1FD975F8CCEA378491EAA7B27E61E520A35F69EB44E87BEAFC22788A91AC42C94894AE67A1026B14FA3C43F3E3CFCCE3F3AF2015978C88B90D16D26348B21FF825F27890821D519E59749045C95E7F824C8B9922B1A834A690863EF81459F568F13BC77C1A4D21E39E58CA21A01F0B947A81089A61A951CDE2B08B44CC42248F180F2BB550A786F4EB98252F9E1FA7A5F3B0E8F8D1DFE9AB06215664A27F19E0C8F4E4AC7F836F98BDCEBD58E43D79DA38BF5CA589DBB6FECFD0042A2E5B6A4E1844B73CB71ED20273820D6F1410D03448BF93B20938CEB4CC25840A625E507E4269B7116FE08ABBBE46710639171DED40DB5C367AD033CBA91490A52AF6E615E6A3C8D3CE2B7E97C9BB0266BD014E64C853E39F6C8150AA7330E75E81BA6073A91806682A41AA21BAA3548617840EE3C47BA25CBFCAFA421D630673C7249971F412CF4D3D8C38F1EB9604B88AA9352837BC130C59048CB0C1C2157F4992D72FD2C711808483C720B3C7FAA9E585AE0BE88D463F9FC4226F16DC2AB8817C78F4192C9D0689BB8CFEEA85C806E2B32F2D700DA0AAB526A7F58E504FFC3EAAD6165094114015570861A56B2CCE73B66643BC6F541C6A95249C8720F342B4E09CBB632E722225B305A985E231BCD4728B014838F72C7DEE16070E4D8D7CDB28276836509D836CB6F6C1B1BD6B8F0C786A529C3F8AE73E0537E084BDD910AD88ACA6C5065706CD50DD30074D36FCA236B3FB7BDE158DE26CF0DEC222F2DB7C81B965A2A5415A571A3A3E0D809B73DB6B5B26B33FD7E1CAA5036385496DAD9DC36A903BB7500D7A3865FCC1AD54CE26F184A4697344D31251B434A794282624299BC0BF6EFDE71C1C30F554713AFB5AD256181A10BB09EA2E8AA9A622AD31935993B8962E75A0BAE1BB054896A21D20D5485B0EABAF9DCC8097B9AB039ACBD778106C5581F73DBC046894B970F879453D951A82709CF62B1A9D86FA32E4A6F93BE3871398C7C4B71DB37BEE31C0BA4B6AB7B05A244FC6B02D199B53D02B181EE9F0EC4260EAD06D764D47AF0F6816DD7A68E34ABAAEE8E54AAAEF50A9329A9967F3A8AB3EB8B5E912D3875C5D7F8A296BB9F4A65B57FA14A7B2B83D53062F9E8325566FAA9279F3E86DA0DC78DBBD377EC2B35EAEAFE63F5995159F3776FC84E1328AE78046D7F46DF620308564A433C301706C12F7CC219E27C7DE1920A3607A58B31DBC33DF5D8DAB3FF3D3BAFAF54C4FB2CBE6FBE2830E3D29DABC0D6517BFB6E209EA90C9FA8FC2AA6CBAF9B9CDCF97FCF6DEE3FEDAB5EBB52849FF5EE5DC9E5B5AE210DCB9D8D612A22588EBD5F73A22199FEF458D11D906B89293A2487E4B797C5FC157BDAAB57B3466BDB631B336F0C610ED2E08072ACA14A4BACA24E67BEC15D396429E52D9DDD16D207BDC67F353FFBC919A4200C2C5B66F511B4AD57D65CAD34DA65FB9ECBAABB24F4D846372FA34577C18C9899C01660ECDEECBA17D5CD7B6A17E70D1BDF67DE61DDB575EBD6DAB2AB31947D963DD59D0B10318DF7EB0856C5166B1666D41110B6B052DF998A795281D6D2A8BA62D5B34BD0148B213D959ACD69A8F171084AE52FAD1E28CFF0CA793C83682AAE339D661A4D8678C65B2FC10CF4B7C9CF97F1B6CEA3EB347F07FA7798806A3253CFAFC5F719E351ADF745C7BBAF0D2C4C4E959DCBC4529B0EB658D59CAE12D19351E9BEBA14DC419C7264A6AE45409FE125BADD2BF8080B1AAEAAF16E3393DD8168BB7D74C6E842D258953CD6F4E63723DFFC68F4FE2F8F1CAD57661A0000 , N'6.4.4')
END

IF @CurrentMigration < '202202202118207_RemoveVideo_IdColumnFromGenresTables'
BEGIN
    IF object_id(N'[dbo].[FK_dbo.Videos_dbo.Genres_Genre_Id]', N'F') IS NOT NULL
        ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genre_Id]
    IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_Genre_Id' AND object_id = object_id(N'[dbo].[Videos]', N'U'))
        DROP INDEX [IX_Genre_Id] ON [dbo].[Videos]
    DECLARE @var2 nvarchar(128)
    SELECT @var2 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Videos')
    AND col_name(parent_object_id, parent_column_id) = 'Genre_Id';
    IF @var2 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Videos] DROP CONSTRAINT [' + @var2 + ']')
    ALTER TABLE [dbo].[Videos] DROP COLUMN [Genre_Id]
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202118207_RemoveVideo_IdColumnFromGenresTables', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED585B6FDB36147E1FD0FF40F0A903523397972D905B644E3204AB932072F33AD0D2B14394A434920AECFEB53DEC27ED2FEC50F78BED3869910ED8102090C873BE73BFC87FFFF957F061A52479046345A2C7F468744809E82889855E8E69E616EF7EA21FDEBFF921B888D58ADC5774279E0E39B51DD307E7D253C66CF4008ADB911291496CB270A328518CC7093B3E3CFC991D1D3140088A5884047799764241FE82AF93444790BA8CCB691283B4E539DE84392AB9E60A6CCA2318D37B117F59FF3E41BA4B61ACA3E44C0A8E6A8420179470AD13C71D2A79FAC942E84CA297618A075CCED62920DD824B0BA5F2A70DF9BE761C1E7B3B58C35841459975897A26E0D149E918D6677F917B69ED3874DD05BAD8ADBDD5B9FBC6F457D0062DEF4B3A9D48E3A906AE1DE50C07A4777C50A701668BFF3B20934CBACCC05843E60C9707E4369B4B11FD06EB59F219F4586752B67543EDF0AE738047B72649C1B8F51D2C4A8DAF624A58978FF5196BB6164F61CE957627C7945CA3703E975087BE657AE81203682618EE20BEE5CE81D11E0372E70DA4F764F9FF9534CC35AC194AA67CF511F4D23D8C293E52722956105727A5069FB4C01243266732E80A095813B79DD1C4A840F29C68E60CFF47F355A33914720712B88573D4B092E59F67C2CB1E18B77F66600B755CA0E94D7A7CC90F61E536640936C732516CA97757EB023404D7EE1D96924685A2E38ECAA6C276B3E7B9B789BDCCE24D76D61635D38015E3A01A1B6CCBDC08A63C4D317CAD39529E90B018229377E1F31BAC2A30586437F4D95ADB5A1226235F42EF164557958761E773EEA33C89D580AC13BF2DCEAD447542D4AFC3C6E515B97F6E2549BFE1F7111AEF5DA2410A6B29B70D6A35AAC932E0CBE73797DC6C28EA492233A5B735865DDC4599B6F98B932142C07A8AF77DC306CEE9B5A7BEABF70A4499EC5F1388A22C9E1F882D7CDF3B10DB103ACDB00DD4B978E5C00EFA4F9FA4965EF7A15EBF09CADA7F7A991D348382841274D423C6121B41B8B60ED4C8138CC23FE4440AB4B72198722D16605D319A29AE94C7BD95F8DFB39E326B63B9CF8EFAEACB85F02E7D727DD8399E77EF13FA919BE8819BB78AAF7E6C237DF506F89FF6D55EFB558CCFEE5BEF57C331BEC702B57D7F2AEA1E759DE336342B74AC76AE7D76ABEDABD526E46A1D7BE1DA356C6F016B7FD107E760C5B281F0DFF71A22DF371AD08AE64A2F922A8668545BA38AA417E229388E31E567C689058F1C5E47606DBEAFDF739921C9859A437CA56F329766EECC5A5073D9D9FF03B65B7EBE5B76750E6E52FF66BF8509A8A6F06979A37FC9848C6BBD2F37A4E516089F806501A256F8BD8270CB758D749DE83D814AF79D430ADA97EF0C542A11CCDEE8903FC24B74C3AF8B8FB0E4D1BA9A52DB419E0E44D7EDC1B9E04BC3952D311A7EFF2B15F33F53BDFF073812A9A0D8120000 , N'6.4.4')
END

IF @CurrentMigration < '202202202121120_CreatingGenreldColumnOnVideosTableAndMakingAOneToManyReleationshipBetweenGenresAndVideosTables'
BEGIN
    ALTER TABLE [dbo].[Videos] ADD [Genreld_Id] [int]
    CREATE INDEX [IX_Genreld_Id] ON [dbo].[Videos]([Genreld_Id])
    ALTER TABLE [dbo].[Videos] ADD CONSTRAINT [FK_dbo.Videos_dbo.Genres_Genreld_Id] FOREIGN KEY ([Genreld_Id]) REFERENCES [dbo].[Genres] ([Id])
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202121120_CreatingGenreldColumnOnVideosTableAndMakingAOneToManyReleationshipBetweenGenresAndVideosTables', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED595B6FE344147E47E23F587E02D48DD3F66589925D2D698B22B617D569C55B35B14FD211E3B1991957C9227E190FFC24FE02677CF78C9338812D48A09556E9CCB99F6FCE25F9E3B7DFC7EFD711735E40481AF3897B3A18BA0EF0200E295F4DDC542DDFBC75DFBFFBF28BF16518AD9DC792EE5CD321279713F759A964E47932788688C841440311CB78A906411C79248CBDB3E1F05BEFF4D40314E1A22CC719DFA75CD108B23FF0CF69CC0348544AD8751C0293C539DEF89954E78644201312C0C47DA4E1A7CDD314E9AEA890CA753E304AD00C1FD8D27508E7B1220A8D1C3D48F09588F9CA4FF080B0F92601A45B1226A1307E5493F7F56378A6FDF06AC65254904A1547070A3C3D2F02E399EC4785D7AD0287A1BBC410AB8DF63A0BDFC4FD1EB840CF4D4DA329139ACA0AED206338718CE3930A068816FDEFC499A64CA502261C5225083B71EED205A3C10FB099C73F019FF094B1A66D681DDEB50EF0E84EC40908B5B9876561F12C741DAFCDE7998C155B83277767C6D5F999EBDCA072B26050A5BEE1BAAF6201E82608A220BC234A81E05A0664C1B3B41BBAF4FFA536C41ABE19D7B926EB8FC057EA79E2E247D7B9A26B08CB93C282074EF18921931229584A6EC80B5D65F619EA301110BBCE3DB0EC563ED324C7FD20BB79CAF2C5D0FF2B1147F7312B59CA8BA739112BC027338FBB6EFD38158161CED8AB61B4135C856DFDC19531FC0FAED70697A104B10444C2055A58EAD29FE754EBB69CEB0BD40A88C743B5046337544B20F781EA0729E380666634B15A99D0F6E99287CE4E7BF27C549E604E109F344144A2EE89FB8D15A56D12ABC7584B2C2A745BE2703038353D6DF864BF4AECA68A50845DEDEEA7EC10D6AAE385629F2C1EA92C3063DAAF85FAA09AC995AE5347BB6DBDE57E9B3D0B42177B114E83BDE1A921A3C65083A61364662DD897E3CAE4DA5AAFAF8C32AB0D1965C0CC62D376AD03C95522EB79C8CB07A27270F2B64C4EE36B922458311A935471E2F8F918357DE31F3E6244B90C2F901D9346656DA509EB1F5981718BAACB628F95862C882E2CD330B2C85AB0DD82A952550B9976AA4AA495E4FA73E36D98238F29A18EDE153A1461F9CE7C0333C7365F36C1124644471F99C62C8DF8B65EB48B3BEF0C4DFEFCC49630F60CC3CDD87856700C909AA1EE9588E2D5FC9544E4D5E0F0446CE1FBA713B14D42ABFF3605B52E5E3FB1EDDAD491DDBAFAEEC9614DD82B55BAB0768DBD6681B523D22BBFA594AE3CEB9854BA0F35ABE81D479A75B0395817439A8D3433A9C7B46A44EBE7ACD97C6C0C583DC824A91058F522A3E78C8BFABF7FA5B71A424EE23AE8FD0B46199B81BF910AA2812618F83FB329A388F99AE09A70BA04A9F28DC0C5C5FACCF862E0DFB3A47B5286ACCFA6FEEA3B0DD521DDBBB5ECDB0A76AC31FC8588E09988AF22B2FEBA29C95E550E5C3CFFD3B1EAB5D685F859F55AEBBA97B927C3776B8F98F110D613F7978C6DE4CC7E7CAA394F9C5B81CF74E40C9D5F8FCBFBB15B5CB1941CBE64D933FE31CB1FC20D844603615849A512584BAD5E7D87CB7D4013C25A36DBADA40F8675042B79E6CD0524C035385B6EF551B4BB6F56728DE7B4CFFB0317597B71E8B1A96E5F54F32E832F63A1539B0372CBAED6B9C46EDF61BB24776F929F79BF6D45A0B1A8ECDD67ED25F8F3ECAFF68C80A869FC3880909574558BD0830F87A085978A66C69771095DC3A292C4A86DD7A0081646F24128BA2481C2EB00A4CCBE6B7B242C4592CB6801E18CDFA62A4915BA0CD182B5BEBBD3F0DFA53F5BD2DB368F6F93EC5BB1BFC3053493EADA7ECBBF4BA9464B61F7955DDBB789D0EFAAE8623A974A77B3D5A6927413F39E828AF055E5600E51C25098BCE53E7981636C7B90F0115624D894A3DE7621FB13D10EFBF882929520912C64D4FCFA072F4FFFE2F5EE4F77161FB9231B0000 , N'6.4.4')
END

IF @CurrentMigration < '202202202130320_CreatingClassificationColumnInVideosTable'
BEGIN
    ALTER TABLE [dbo].[Videos] ADD [Classification] [tinyint] NOT NULL DEFAULT 0
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202202202130320_CreatingClassificationColumnInVideosTable', N'Vidzy_CodeFirst.Migrations.Configuration',  0x1F8B0800000000000400ED59DD6EDB3614BE1FB0771074B50DA96527375B60B7689DA4305627419414BB0B68E9D82146511A490576873DD92EF6487B851DEA5FA46CCB5EDA0DD850A0B0489EC3F3F39D3FE6CFDFFF18BF5947CC79062169CC27EE6830741DE0411C52BE9AB8A95ABEFADE7DF3FAEBAFC69761B4763E96E7CEF439A4E472E23E29959C7B9E0C9E20227210D140C4325EAA4110471E0963EF7438FCC11B8D3C40162EF2729CF15DCA158D20FBC0CF69CC0348544AD83C0E81C9621D77FC8CAB734D2290090960E27EA4E1A7CDE314CF5D512195EBBC6594A0183EB0A5EB10CE6345140A79FE20C15722E62B3FC105C2EE3709E0B92561120AE1CFEBE37DF5189E6A3DBC9AB06415A452C5D1810C476785613C93FC28F3BA95E1D074976862B5D15A67E69BB8EF810BD4DCBCE97CCA843E65997690119C38C6F2490503448BFE77E24C53A65201130EA912849D38B7E982D1E047D8DCC73F039FF094B1A66C281DEEB51670E956C40908B5B9836521F12C741DAF4DE79984155983265767C6D5D9A9EB5CE3E564C1A0727D43755FC502504D104441784B9402C1350FC88C67DD6EDCA5FF2F6F43AC61CCB8CE9CAC3F005FA9A7898B3F5DE78AAE212C570A091E38C51043222552B02EB926CF7495C9675C878E80D875EE8065BBF2892639EE07D9CE63E62F86FA5F8938BA8B5949526E3CDE13B1020C99FBB86BD78F531118E28CBD1A463BC155C8D61F5C19C1FFE0FAD2E0322E412C01917081129677E9DFF754DF6D29B79BD7941129E9920645022B44D7F834B7F671DE1A0215C48F0F8212E6DD41508648BF2048A34608984ACEE41523ABBAE4F48F8D36A7170B12844608826D104AF9BDEF36E8F6B6E5E7102D40141AF994616BE03A1F094BF17364F9A975FA7DACCD5E9C3DDD7DF6567B0FCD579D3FB34D9E1BB7B9F856CA38A099519A69A7F279FBC24B1E3A3B0150E3B3C85E73B4224DD06EE8EC89FB9DA5C2368E555EAD3916C5B6CD7138188C4C3D1B3AD909161B234528AFCC9601412FC25A75000A5B9E0253B2087F537ECDD407D58C26E93A35BCDBD25BEAB7C93323749117E634C81B9A1A3CEAA06D9CE98C6A33ADEFF37125722DADD79747E9D5068FD26066DD68ABD6913A2A47D6ADAD97F7B6650FEC6D6982C773922418B18DA6B85871FCBC239EBEF20FEF16A39C8717C88EA6B192B6BA094B195981B18B579729098B0659109DE5A661641D6BC1760BA6CAAB5AC8B45D5522AD3CAE7F3762C3EC5E4D0EB5F5AE50A1082B71A61B983EB6E9B2618430223A5A8269CCD2886F6B2B7651E745BE499FAFD81CC69E21B8691BCF328E0152D3D4BD1C5144CDDF71449E0D0E77C416BA7FDA11DB38B45AA926A3D6467F7E663BD16469EE7D79B8B4335E0766EA9CBE0719F5C15E00D0E9BA6B2E32D3B66D915EA829B974A147DBA4BAFB50B18A8A74A458078B83D936A459A33493BADBAEBAD07ECA9A25CDC68055D9CC231502AB0A6754B2715155F6BFF95865263FE23AA8FD335A194B8CBF910AA2813E30F07F61534611F3F58139E1740952E5DDB07B3A1C9D1A2F47FF9E571C4FCA90F579CAF9E2432FD526DD3BD61E383636E75CFE4C44F044C43711597FDBE464CFB207BE4CFCA76DD56BEE0FF1B77AB9B91FC7BB4D668303B9357352C392D6AC33C359763D717FCDC8CE9DD94F8F35E589732330E8CF9DA1F3DB71283A76D22C06A7C307417B0E39664045F082D0D8220CF3B2540233B355F96F05E5014D086BC96C17A63E11A12D58F133772E2001AEA1DE52ABCF45BBAB70C5D708CE7DDA1F386CDBC34D8F697AFB309DD72C8CB385766D0EC82DF364E7A0BD7DCEEEE2DC3DED7EE619BC6581C630B577E6B607F5CF3363DB1D07A2A6F1B72884ACA4AB9A856EA338042DBC5467667C1997D035242A8F18B96D0E8A609A256F85A24B1228DC0E0073A77EDA2DDEC12EA30584337E93AA2455A832440BD67A2AD6F0DF757FF690D096797C93644FA52FA1028A4975A5B8E1EF52DA78EFBBB273FB36163AAE8A9AA87DA9746D5C6D2A4ED731EFC9A8305F950EEE214A18329337DC27CF708C6C0F123EC08A049BB271DCCE64BF23DA661F5F50B2122492058F9A1E3F11C361B47EFD17CDE3C432921D0000 , N'6.4.4')
END

